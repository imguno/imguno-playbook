query_id,service,api_or_usage,file_path,function_or_method,line_range,execution_context,sql_dialect,query_type,main_table,joined_tables,where_columns,has_or_condition,has_like,like_pattern_type,uses_function_on_column,order_by_columns,has_order_by,pagination_type,limit_used,estimated_index_usage,full_scan_risk,query_version,mapped_from_query_id,sql_text
QRY-USER-001,user-service,/v1/users,src/repository/UserRepository.java,findByStatusAndEmail,10-15,api,MySQL,SELECT,users,"user_profiles","status,created_at,email",N,Y,prefix,N,"created_at DESC,id DESC",Y,offset,Y,"users(status,created_at)",medium,v1,,"SELECT u.id, u.email FROM users u LEFT JOIN user_profiles up ON up.user_id = u.id WHERE u.status = ? AND u.email LIKE ? ORDER BY u.created_at DESC, u.id DESC LIMIT ? OFFSET ?"
QRY-ORDER-001,order-service,/v1/orders,src/dao/OrderDao.java,listByUserKeyset,20-22,api,Postgres,SELECT,orders,"order_items","user_id,created_at",N,N,none,N,"created_at DESC",Y,keyset,Y,"orders(user_id,created_at DESC)",low,v1,,"SELECT o.id, o.total_amount FROM orders o WHERE o.user_id = ? AND (o.created_at, o.id) < (?, ?) ORDER BY o.created_at DESC, o.id DESC LIMIT ?"
QRY-AUTH-001,auth-service,/v1/login,src/repository/AuthRepository.java,findByEmail,45,api,,SELECT,users,"","email",N,N,none,N,"",N,none,N,"users(email)",low,v1,,"SELECT id, password_hash FROM users WHERE email = ?"
QRY-SEARCH-001,search-service,/v1/search,src/service/SearchService.java,searchProducts,88-92,api,MySQL,SELECT,products,"categories","name,description",Y,Y,full,N,"created_at DESC",Y,offset,Y,"",high,v1,,"SELECT p.id, p.name FROM products p LEFT JOIN categories c ON c.id = p.category_id WHERE p.name LIKE ? OR p.description LIKE ? ORDER BY p.created_at DESC LIMIT ? OFFSET ?"